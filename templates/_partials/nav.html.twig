<nav class="navbar navbar-expand-lg bg-primary navbar-dark">
	<div
		class="container-fluid">
		<!-- Mobile Toggler -->
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar">
			<span class="navbar-toggler-icon"></span>
		</button>

		<!-- Brand Logo -->
		<a class="navbar-brand" href="{{ path('app_planning') }}">
			<img src="{{ asset('build/images/logo.png') }}" alt="Logo" height="40">
		</a>

		<!-- Main Navigation -->
		<div class="collapse navbar-collapse" id="mainNavbar">
			<ul
				class="navbar-nav me-auto">
				<!-- Always visible -->
				<li class="nav-item">
					<a class="nav-link {{ app.current_route == 'app_planning' ? 'active' }}" href="{{ path('app_planning') }}">
						ğŸ—“ï¸ Planning
					</a>
				</li>

				<!-- Admin Section -->
				{% if is_granted('ROLE_ADMIN') %}
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="adminDropdown" data-bs-toggle="dropdown">
							âš™ï¸ Administration
						</a>
						<ul class="dropdown-menu">
							<li>
								<a class="dropdown-item" href="{{ path('app_formation_index') }}">
									ğŸ“ Gestion des Formations
								</a>
							</li>
							<li>
								<a class="dropdown-item" href="{{ path('app_jour_ferie_index') }}">
									ğŸŒ´ Jours FÃ©riÃ©s
								</a>
							</li>
							<li>
								<a class="dropdown-item" href="{{ path('app_invitation_new') }}">
									âœ‰ï¸ Invitations
								</a>
							</li>
							<li>
								<a class="dropdown-item" href="{{ path('app_utilisateurs_index') }}">
									ğŸ‘¥ Utilisateurs
								</a>
							</li>
						</ul>
					</li>
				{% endif %}

				<!-- Gestionnaire Section -->
				{% if is_granted('ROLE_GESTIONNAIRE') %}
					<li class="nav-item">
						<a class="nav-link" href="{{ path('app_jour_ferie_index') }}">
							â• Ajout CongÃ©s Locaux
						</a>
					</li>
				{% endif %}
			</ul>

			<!-- User Section -->
			<ul class="navbar-nav ms-auto">
				{% if app.user %}
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="userDropdown" data-bs-toggle="dropdown">
							ğŸ‘¤
							{{ app.user.prenom }}
							{{ app.user.nom }}
							<span class="badge bg-{{ is_granted('ROLE_ADMIN') ? 'danger' : (is_granted('ROLE_GESTIONNAIRE') ? 'warning' : 'success')
																																				                            }}">
								{{ app.user.roles|first|replace({'ROLE_': ''}) }}
							</span>
						</a>
						<ul class="dropdown-menu dropdown-menu-end">
							<li>
								<a class="dropdown-item" href="{{ path('app_profile') }}">
									Mon Profil
								</a>
							</li>
							<li><hr class="dropdown-divider"></li>
							<li>
								<a class="dropdown-item text-danger" href="{{ path('app_logout') }}">
									ğŸšª DÃ©connexion
								</a>
							</li>
						</ul>
					</li>
				{% else %}
					<li class="nav-item">
						<a class="nav-link" href="{{ path('app_login') }}">
							ğŸ”‘ Connexion
						</a>
					</li>
				{% endif %}
			</ul>
		</div>
	</div>
</nav>
