{# templates/profile/edit.html.twig #}
{% extends 'base.html.twig' %}

{% block body %}
	<div class="container mt-4">
		<div class="card shadow">
			<div class="card-header bg-primary text-white">
				<h2 class="h5 mb-0">Modifier le profil</h2>
			</div>
			<div class="row mb-3">
				<div class="col-md-6">
					{{ form_row(editForm.nom, {
            'attr': {'class': 'form-control'}
        }) }}
				</div>
				<div class="col-md-6">
					{{ form_row(editForm.prenom, {
            'attr': {'class': 'form-control'}
        }) }}
				</div>
			</div>

			<div class="mb-3">
				{{ form_row(editForm.email, {
        'attr': {
            'class': 'form-control bg-light',
            'onclick': 'return true;',
            'style': 'cursor: not-allowed;'
        }
    }) }}
			</div>

			<!-- Password change section -->
			<div class="mt-4 p-3 border rounded">
				<h5 class="mb-3">Changer le mot de passe</h5>
				{{ form_row(editForm.currentPassword, {
                        'attr': {'class': 'form-control'}
                    }) }}
				{{ form_row(editForm.newPassword, {
                        'attr': {'class': 'form-control'}
                    }) }}
			</div>

			<button type="submit" class="btn btn-primary mt-3 px-4">
				<i class="fas fa-save me-2"></i>Enregistrer
			</button>
			{{ form_end(editForm) }}
		</div>
	</div>
</div>

<script>
	// Prevent any modification of email field
document.getElementById('{{ editForm.email.vars.id }}').addEventListener('keydown', function (e) {
e.preventDefault();
});
</script>{% endblock %}
